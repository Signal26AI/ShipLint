---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Nav from '../../components/Nav.astro';
import Footer from '../../components/Footer.astro';
---

<BaseLayout
  title="iOS App Store Error Codes — ITMS Error Reference — ShipLint"
  description="Fix common iOS App Store ITMS error codes: ITMS-90683 (missing purpose string), ITMS-91053 (missing privacy manifest), ITMS-90078 (missing export compliance). Step-by-step guides with code samples."
  canonical="https://shiplint.app/errors/"
>
  <Fragment slot="head">
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "CollectionPage",
      "name": "iOS App Store Error Codes — ITMS Error Reference",
      "description": "A comprehensive reference of common iOS App Store ITMS error codes with step-by-step fix instructions.",
      "url": "https://shiplint.app/errors/",
      "publisher": { "@type": "Organization", "name": "ShipLint", "url": "https://shiplint.app" },
      "hasPart": [
        { "@type": "TechArticle", "name": "Fix ITMS-90683: Missing Purpose String", "url": "https://shiplint.app/errors/itms-90683/" },
        { "@type": "TechArticle", "name": "Fix ITMS-91053: Missing Privacy Manifest", "url": "https://shiplint.app/errors/itms-91053/" },
        { "@type": "TechArticle", "name": "Fix ITMS-90078: Missing Export Compliance Key", "url": "https://shiplint.app/errors/itms-90078/" }
      ]
    })} />
  </Fragment>

  <Nav showSections={false} />

  <main id="main" class="pt-16">
    <div class="max-w-4xl mx-auto px-6 py-12">

      <nav aria-label="Breadcrumb" class="mb-8 text-sm text-muted">
        <a href="/" class="hover:text-accent transition-colors">ShipLint</a>
        <span class="mx-2">›</span>
        <span class="text-white">Error Codes</span>
      </nav>

      <header class="mb-12">
        <h1 class="text-4xl md:text-5xl font-extrabold text-white leading-tight mb-4">
          iOS App Store <span class="gradient-text">Error Codes</span>
        </h1>
        <p class="text-xl text-muted max-w-2xl mb-6">Your AI builds the code. We help it pass review.</p>
        <p class="text-gray-300 max-w-2xl leading-relaxed">
          According to Apple's 2024 data, approximately <strong class="text-white">25% of app submissions are rejected</strong> — and most rejections are preventable configuration issues, not code bugs. Below are the most common ITMS error codes with step-by-step fixes.
        </p>
      </header>

      <section class="mb-16">
        <div class="space-y-6">
          <a href="/errors/itms-90683/" class="block group">
            <div class="bg-surface-800 border border-surface-600 rounded-xl p-6 md:p-8 hover:border-accent/50 transition-all hover:bg-surface-700/50">
              <div class="flex flex-col md:flex-row md:items-start gap-4 md:gap-6">
                <div class="shrink-0">
                  <div class="inline-block px-3 py-1 rounded-full bg-red-500/10 text-red-400 text-xs font-medium tracking-wide uppercase">Rejection</div>
                </div>
                <div class="flex-1">
                  <div class="font-mono text-accent text-sm mb-1">ITMS-90683</div>
                  <h2 class="text-xl md:text-2xl font-bold text-white mb-2 group-hover:text-accent transition-colors">Missing Purpose String</h2>
                  <p class="text-gray-300 leading-relaxed mb-3">
                    Your app uses a protected API (camera, microphone, location, photos) without the required <code class="text-accent bg-surface-700 px-1.5 py-0.5 rounded text-sm">NS*UsageDescription</code> key in Info.plist.
                  </p>
                  <div class="flex flex-wrap gap-2 text-xs">
                    <span class="px-2 py-1 bg-surface-700 rounded text-muted">Info.plist</span>
                    <span class="px-2 py-1 bg-surface-700 rounded text-muted">NSCameraUsageDescription</span>
                    <span class="px-2 py-1 bg-surface-700 rounded text-muted">Guideline 5.1.1</span>
                  </div>
                </div>
                <div class="shrink-0 text-accent opacity-0 group-hover:opacity-100 transition-opacity hidden md:block">→</div>
              </div>
            </div>
          </a>

          <a href="/errors/itms-91053/" class="block group">
            <div class="bg-surface-800 border border-surface-600 rounded-xl p-6 md:p-8 hover:border-accent/50 transition-all hover:bg-surface-700/50">
              <div class="flex flex-col md:flex-row md:items-start gap-4 md:gap-6">
                <div class="shrink-0">
                  <div class="inline-block px-3 py-1 rounded-full bg-red-500/10 text-red-400 text-xs font-medium tracking-wide uppercase">Rejection</div>
                </div>
                <div class="flex-1">
                  <div class="font-mono text-accent text-sm mb-1">ITMS-91053</div>
                  <h2 class="text-xl md:text-2xl font-bold text-white mb-2 group-hover:text-accent transition-colors">Missing Privacy Manifest</h2>
                  <p class="text-gray-300 leading-relaxed mb-3">
                    Starting Spring 2024, Apple requires a <code class="text-accent bg-surface-700 px-1.5 py-0.5 rounded text-sm">PrivacyInfo.xcprivacy</code> file for apps using Required Reason APIs.
                  </p>
                  <div class="flex flex-wrap gap-2 text-xs">
                    <span class="px-2 py-1 bg-surface-700 rounded text-muted">PrivacyInfo.xcprivacy</span>
                    <span class="px-2 py-1 bg-surface-700 rounded text-muted">UserDefaults</span>
                    <span class="px-2 py-1 bg-surface-700 rounded text-muted">Spring 2024</span>
                  </div>
                </div>
                <div class="shrink-0 text-accent opacity-0 group-hover:opacity-100 transition-opacity hidden md:block">→</div>
              </div>
            </div>
          </a>

          <a href="/errors/itms-90078/" class="block group">
            <div class="bg-surface-800 border border-surface-600 rounded-xl p-6 md:p-8 hover:border-accent/50 transition-all hover:bg-surface-700/50">
              <div class="flex flex-col md:flex-row md:items-start gap-4 md:gap-6">
                <div class="shrink-0">
                  <div class="inline-block px-3 py-1 rounded-full bg-yellow-500/10 text-yellow-400 text-xs font-medium tracking-wide uppercase">Delay</div>
                </div>
                <div class="flex-1">
                  <div class="font-mono text-accent text-sm mb-1">ITMS-90078</div>
                  <h2 class="text-xl md:text-2xl font-bold text-white mb-2 group-hover:text-accent transition-colors">Missing Export Compliance Key</h2>
                  <p class="text-gray-300 leading-relaxed mb-3">
                    Your app doesn't declare <code class="text-accent bg-surface-700 px-1.5 py-0.5 rounded text-sm">ITSAppUsesNonExemptEncryption</code> in Info.plist.
                  </p>
                  <div class="flex flex-wrap gap-2 text-xs">
                    <span class="px-2 py-1 bg-surface-700 rounded text-muted">Info.plist</span>
                    <span class="px-2 py-1 bg-surface-700 rounded text-muted">ITSAppUsesNonExemptEncryption</span>
                    <span class="px-2 py-1 bg-surface-700 rounded text-muted">Export Compliance</span>
                  </div>
                </div>
                <div class="shrink-0 text-accent opacity-0 group-hover:opacity-100 transition-opacity hidden md:block">→</div>
              </div>
            </div>
          </a>
        </div>
      </section>

      <!-- CTA -->
      <section class="mb-16 text-center bg-linear-to-br from-accent/10 to-accent/5 border border-accent/20 rounded-2xl p-8 md:p-12">
        <h2 class="text-2xl md:text-3xl font-bold text-white mb-4">Catch These Issues Before Submission</h2>
        <p class="text-muted mb-4 max-w-lg mx-auto">ShipLint scans your Xcode project for 16+ App Store rejection risks in seconds. One command. Zero config. Free.</p>
        <div class="bg-surface-900 border border-surface-600 rounded-lg px-6 py-4 inline-block font-mono text-lg mb-6">
          <span class="text-muted">$</span> <span class="text-white">npx shiplint</span>
        </div>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="/" class="inline-block bg-accent hover:bg-accent-light text-surface-900 font-semibold px-8 py-3 rounded-lg transition-colors text-lg">Learn More →</a>
          <a href="https://www.npmjs.com/package/shiplint" class="inline-block bg-surface-700 hover:bg-surface-600 text-white font-semibold px-8 py-3 rounded-lg transition-colors text-lg border border-surface-500" target="_blank" rel="noopener">View on npm</a>
        </div>
      </section>

    </div>
  </main>

  <Footer />
</BaseLayout>
